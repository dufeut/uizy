---
sidebar_position: 1
sidebar_label: Best Practices
---

# Best Practices

## Components

### Use Semantic Naming

Name components based on what they represent, not how they look:

```javascript
// ✅ Semantic names
components: {
  button: {
    primary: () => "bg-blue-500 text-white px-4 py-2 rounded",
    secondary: () => "bg-gray-200 text-gray-800 px-4 py-2 rounded",
    danger: () => "bg-red-500 text-white px-4 py-2 rounded",
  },
}

// ❌ Style-based names
components: {
  button: {
    blue: () => "bg-blue-500 text-white px-4 py-2 rounded",
    gray: () => "bg-gray-200 text-gray-800 px-4 py-2 rounded",
  },
}
```

### Compose Components

Build complex components from simpler base styles:

```javascript
components: {
  button: {
    base: () => "px-4 py-2 rounded font-medium transition-colors",
    primary: () => "bg-blue-500 text-white hover:bg-blue-600",
    ghost: () => "bg-transparent hover:bg-gray-100",
  },
}
```

```html
<ui-box use="button.base button.primary">Submit</ui-box>
```

## Stores

### Organize Related State

Group related stores under a common namespace:

```javascript
app.plugin("cart", {
  stores: {
    items: app.store.atom([]),
    total: app.store.atom(0),
    loading: app.store.atom(false),
  },
});

// Access via namespace
uizy.$("cart.items");
uizy.$("cart.total");
```

### Keep Stores Minimal

Store only the essential state. Derive computed values when needed:

```javascript
// ✅ Store raw data, compute when needed
stores: {
  items: app.store.atom([]),
}

// Compute total in actions or components
const items = uizy.$("cart.items");
const total = items.reduce((sum, item) => sum + item.price, 0);
```

## Performance

### Lazy Load Heavy Directives

For complex directives, consider lazy initialization:

```javascript
uizy.directive("chart", (el, { value, cleanup }) => {
  let chart = null;

  // Initialize only when element is visible
  const observer = new IntersectionObserver((entries) => {
    if (entries[0].isIntersecting && !chart) {
      chart = initializeChart(el, value);
      observer.disconnect();
    }
  });

  observer.observe(el);
  cleanup(() => {
    observer.disconnect();
    chart?.destroy();
  });
});
```

### Batch Store Updates

When updating multiple store values, batch them to avoid unnecessary re-renders:

```javascript
// ✅ Batch related updates
actions: {
  resetForm: () => {
    app.$set("form.data", {});
    app.$set("form.errors", {});
    app.$set("form.submitting", false);
  },
}
```

## Project Structure

### Organize Plugins by Feature

```
src/
├── plugins/
│   ├── ui/           # UI components plugin
│   │   └── index.js
│   ├── forms/        # Form handling plugin
│   │   └── index.js
│   └── effects/      # Visual effects plugin
│       └── index.js
├── app.js
└── index.html
```

### Register Plugins in One Place

```javascript
// app.js
import { UIPlugin } from "./plugins/ui";
import { FormsPlugin } from "./plugins/forms";
import { EffectsPlugin } from "./plugins/effects";

uizy.start({
  plugins: [
    UIPlugin,
    FormsPlugin,
    [EffectsPlugin, { transitionDuration: 200 }],
  ],
});
```
