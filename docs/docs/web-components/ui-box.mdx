---
sidebar_position: 9
sidebar_label: <ui-box>
---

# ui-box

A utility component for reactive data binding and inline event handling.

## Overview

`<ui-box>` is a versatile component that combines:
- Reactive text binding to stores
- Component class application
- Inline event handlers

```html
<ui-box :text="user.name"></ui-box>
<ui-box use="button.primary" :click="console.log('clicked!')">Click me</ui-box>
```

## Reactive Text Binding

Bind element text content to a store value with automatic updates:

```html
<!-- Displays store value and updates automatically -->
<ui-box :text="user.name"></ui-box>
<ui-box :text="cart.total"></ui-box>
```

```javascript
uizy.state({
    user: { name: uizy.store.atom("John") },
    cart: { total: uizy.store.atom(0) },
});

// When store updates, ui-box text updates automatically
uizy.$set("user.name", "Jane"); // ui-box now shows "Jane"
```

Objects and arrays are automatically converted to JSON:

```html
<ui-box :text="user.profile"></ui-box>
<!-- Displays: {"age":25,"city":"NYC"} -->
```

## Component Classes

Apply registered component classes with the `use` attribute:

```html
<ui-box use="button.primary">Primary Button</ui-box>
<ui-box use="card.elevated">Card Content</ui-box>
```

```javascript
uizy.add({
    button: {
        primary: () => "px-4 py-2 bg-primary text-white rounded",
        secondary: () => "px-4 py-2 bg-gray-200 rounded",
    },
    card: {
        elevated: () => "p-4 shadow-lg rounded-lg",
    },
});
```

### Multiple Components

Combine multiple components with space-separated names:

```html
<ui-box use="button.base button.primary button.lg">
    Large Primary Button
</ui-box>
```

All component classes are combined and applied to the element.

### Passing Props

Pass configuration to components using `use:props` with JSON:

```html
<ui-box use="button.sized" use:props='{"size":"lg"}'>Large Button</ui-box>
<ui-box use="spacing.pad" use:props='{"x":4,"y":2}'>Padded</ui-box>

<!-- Props are passed to all components -->
<ui-box use="button.base button.sized" use:props='{"size":"lg"}'>
    Large Button
</ui-box>
```

```javascript
uizy.add({
    button: {
        sized: (props) => {
            const sizes = { sm: "px-2 py-1 text-sm", md: "px-4 py-2", lg: "px-6 py-3 text-lg" };
            return sizes[props?.size] || sizes.md;
        },
    },
    spacing: {
        pad: ({ x = 0, y = 0 } = {}) => `px-${x} py-${y}`,
    },
});
```

### Conditional Classes

Components can return an object where keys are class strings and values are booleans:

```javascript
uizy.add({
    button: {
        dynamic: (props) => ({
            "px-2 py-1 text-sm": props.size === "sm",
            "px-4 py-2": props.size === "md",
            "px-6 py-3 text-lg": props.size === "lg",
            "bg-primary text-white": props.variant === "primary",
            "bg-gray-200": props.variant === "secondary",
        }),
    },
});
```

```html
<ui-box use="button.dynamic" use:props='{"size":"lg","variant":"primary"}'>
    Large Primary
</ui-box>
<!-- Only classes with truthy values are applied -->
<!-- Result: class="px-6 py-3 text-lg bg-primary text-white" -->
```

## Event Handlers

Handle DOM events inline with `:<event>` attributes:

```html
<!-- Click handler -->
<ui-box :click="console.log('clicked!')">Click me</ui-box>

<!-- Access event object -->
<ui-box :click="console.log(event.target)">Log target</ui-box>

<!-- Call uizy methods -->
<ui-box :click="uizy.$set('counter', uizy.$('counter') + 1)">Increment</ui-box>

<!-- Multiple events -->
<ui-box
    :mouseenter="console.log('enter')"
    :mouseleave="console.log('leave')"
>
    Hover me
</ui-box>
```

### Available Variables

Inside event handlers, these variables are available:

| Variable | Description |
|----------|-------------|
| `event` | The native DOM event object |
| `$event` | Alias for `event` |
| `el` | The `ui-box` element itself |
| `$el` | Alias for `el` |

### Supported Events

All standard DOM events are supported (note: `:text` is reserved for reactive text binding):

**Mouse Events**
- `:click`, `:dblclick`, `:mousedown`, `:mouseup`
- `:mouseover`, `:mouseout`, `:mousemove`
- `:mouseenter`, `:mouseleave`, `:contextmenu`

**Keyboard Events**
- `:keydown`, `:keyup`, `:keypress`

**Focus Events**
- `:focus`, `:blur`, `:focusin`, `:focusout`

**Form Events**
- `:input`, `:change`, `:submit`, `:reset`

**Touch Events**
- `:touchstart`, `:touchend`, `:touchmove`, `:touchcancel`

**Drag Events**
- `:drag`, `:dragstart`, `:dragend`, `:dragover`
- `:dragenter`, `:dragleave`, `:drop`

**Other Events**
- `:scroll`, `:wheel`
- `:copy`, `:cut`, `:paste`
- `:animationstart`, `:animationend`, `:animationiteration`
- `:transitionstart`, `:transitionend`, `:transitionrun`, `:transitioncancel`
- `:pointerdown`, `:pointerup`, `:pointermove`, `:pointerover`, `:pointerout`
- `:pointerenter`, `:pointerleave`, `:pointercancel`

## Combined Example

```html
<ui-box
    :text="counter.value"
    use="display.large"
    :click="uizy.$set('counter.value', uizy.$('counter.value') + 1)"
>
</ui-box>
```

```javascript
uizy.start({
    stores: {
        counter: { value: uizy.store.atom(0) },
    },
    components: {
        display: {
            large: () => "text-4xl font-bold cursor-pointer select-none",
        },
    },
});
```

## Cleanup

Event listeners and store subscriptions are automatically cleaned up when the element is removed from the DOM. No manual cleanup is required.
